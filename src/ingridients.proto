syntax = "proto3";

package ingridients;

service IngridientsService {
  rpc ListIngridientsByRecipeId (RecipeId) returns (ListIngridientsRes) {}
  rpc GetIngridientById (IngridientId) returns (Ingridient) {}
  rpc SetIngridientToRecipe (SetIngridient) returns (SetIngridientRes) {}
}

message IngridientId {
  int32 id = 1;
}

message RecipeId {
  int32 id = 1;
}

message Nutrition {
  int32 id = 1;
  string name = 2;
  string per_gram = 3;
  int32 ingridient_id = 4;
}

message Ingridient {
  int32 id = 1;
  string name = 2;
  int32 quantity = 3;
  string unit = 4;
  repeated Nutrition nutritions = 5;
  int32 recipe_id = 6;
}

message SetIngridient {
  int32 id = 1;
  int32 quantity = 2;
  int32 recipe_id = 3;
}

message SetIngridientRes {
  int32 id = 1;
  string name = 2;
  int32 quantity = 3;
  string unit = 4;
  repeated Nutrition nutritions = 5;
}

message ListIngridientsRes {
  repeated Ingridient ingridients = 1;
}